(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cbec0"],{"4c72":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-page"},[e("div",{staticClass:"queryInfo"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{sm:8,md:6,lg:4}},[e("el-input",{attrs:{size:"small",placeholder:"请输入门店名称"},model:{value:t.queryInfo.shopName,callback:function(e){t.$set(t.queryInfo,"shopName",e)},expression:"queryInfo.shopName"}})],1),e("el-col",{attrs:{span:1,xs:2}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.seach_query()}}},[t._v("搜索")])],1),e("el-col",{attrs:{span:1,xs:2}},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.reset_query()}}},[t._v("重置")])],1)],1)],1),e("div",{staticClass:"main_list"},[e("el-table",{attrs:{border:"",size:"small","row-key":"id",data:t.tableData},on:{"selection-change":t.selectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{prop:"shopName",label:"门店名称","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"cashCode",label:"收银机编号","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"cashName",label:"收银机名称","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"deviceCode",label:"设备编号","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[e("el-switch",{attrs:{"active-value":"true","inactive-value":"false","active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){return t.changeEna(o)}},model:{value:o.state,callback:function(e){t.$set(o,"state",e)},expression:"row.state"}})]}}])}),e("el-table-column",{attrs:{prop:"auditState",label:"审核状态"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[e("span",[t._v(t._s(t.fomattStatus(o.auditState)))])]}}])}),e("el-table-column",{attrs:{prop:"auditer",label:"审核人"}}),e("el-table-column",{attrs:{label:"审核时间"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("dateFormat")(a.auditTime))+" ")]}}])}),e("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("dateFormat")(a.create_time))+" ")]}}])}),e("el-table-column",{attrs:{label:"修改时间"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("dateFormat")(a.update_time))+" ")]}}])}),e("el-table-column",{attrs:{label:"操作",width:"155"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[1==o.auditState?e("el-button",{staticClass:"textRed",attrs:{type:"text",size:"mini"},on:{click:function(e){return t.audit(o)}}},[t._v("审核")]):t._e()]}}])})],1),e("el-pagination",{attrs:{"hide-on-single-page":"","current-page":t.queryInfo.pageNum,"page-sizes":[15,20,30],"page-size":t.queryInfo.pageSize,layout:"sizes, prev, pager, next,total",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("el-dialog",{attrs:{title:t.auditDialog.title,"close-on-click-modal":!1,visible:t.auditDialog.show,width:"50%","before-close":t.handleAuditClose},on:{"update:visible":function(e){return t.$set(t.auditDialog,"show",e)}}},[e("el-form",{ref:"auditFormData",attrs:{model:t.auditFormData,"label-width":"120px"}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"收银机编码",prop:"merchantCode"}},[e("el-input",{attrs:{maxlength:"20"},model:{value:t.auditFormData.cashCode,callback:function(e){t.$set(t.auditFormData,"cashCode",e)},expression:"auditFormData.cashCode"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"审核意见",prop:"merchantName"}},[e("el-input",{attrs:{maxlength:"20"},model:{value:t.auditFormData.reason,callback:function(e){t.$set(t.auditFormData,"reason",e)},expression:"auditFormData.reason"}})],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.auditCash(2)}}},[t._v("通 过")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.auditCash(3)}}},[t._v("不 通 过")])],1)],1)],1)},n=[],r=a("2909"),s=a("c7eb"),l=a("1da1"),i=a("5530"),u=a("ed08"),c=a("2f62"),d=a("4360"),h={data:function(){return{total:0,queryInfo:{orgID:d["a"].state["user"].userInfo.orgID,pageSize:15,pageNum:1},auditFormData:{cashCode:"",reason:""},tableData:[],auditDialog:{title:"审核",show:!1}}},computed:{},mounted:function(){this.seach_query()},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])("cash",["getCashList","cashState","auditData"])),{},{seach_query:function(){var t=this;return Object(l["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(u["d"])("加载中"),e.next=3,t.getCashList(Object(i["a"])({},t.queryInfo));case 3:a=e.sent,t.tableData=a.data,t.total=a.count;case 6:case"end":return e.stop()}}),e)})))()},beforeHandleCommand:function(t,e){return{row:t,command:e}},selectionChange:function(t){this.check=Object(r["a"])(t)},changeEna:function(t){var e=this;return Object(l["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.cashState({code:t.code});case 2:e.seach_query();case 3:case"end":return a.stop()}}),a)})))()},auditCash:function(t){var e=this;return Object(l["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.auditFormData.auditState=t,a.next=3,e.auditData(e.auditFormData);case 3:e.handleAuditClose();case 4:case"end":return a.stop()}}),a)})))()},handleAuditClose:function(){this.auditDialog.show=!1,this.auditFormData={},this.seach_query()},showDialogAdd:function(t){t?(this.addFormData=Object(i["a"])({},t),this.addFormData.state="true"==this.addFormData.state,this.dialog.title="修改"):(this.dialog.title="新增",this.addFormData.state=!1,this.addFormData.roleType=1),this.dialog.show=!0},audit:function(t){this.auditFormData={cashCode:t.cashCode,code:t.code},this.auditDialog.title="审核",this.auditDialog.show=!0},reset_query:function(){this.queryInfo={orgID:d["a"].state["user"].userInfo.orgID,pageSize:15,pageNum:1},this.seach_query()},handleSizeChange:function(t){this.queryInfo.pageSize=t,this.seach_query()},handleCurrentChange:function(t){this.queryInfo.pageNum=t,this.seach_query()},fomattStatus:function(t){switch(t){case 1:return"未审核";case 2:return"已审核";case 3:return"审核失败"}}})},f=h,p=a("2877"),m=Object(p["a"])(f,o,n,!1,null,null,null);e["default"]=m.exports}}]);